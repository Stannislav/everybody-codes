import java.util.Map;

public class Quest1 {
    public static void main(String[] argv) {
        Quest1 quest = new Quest1();
        quest.solve();

    }

    public void solve() {
        Map<Integer, String> input = Map.of(
            1, "CBAABCAACCACCACACACBBACACCBABBCCACAACCCCAAACBABBCBBBCBCCAACACCCBBCCBBBCBABBBABCCBCBCBCBACACBBBACCABBBCABBBACCBBABCAABCBBCACBBCCACABBACCCCBCACBBABCCBBABBBBCACCBAACCBCBCBACCABAAABCCABABBAABAACABCCACABBCABCBCBABACACCACBBCAACBAACCABCBBCACACABACCBBAABBBAACABABCCCAACCCAABBBCAABABBCBCBACBACACACAABAABABCCCBBCBBCABACBBBABCABCBCCAACBCACCCBCBBCABBCCCCCCCBBCCBACBBACAACBABAACBAACCBBACACABBCBCBACBAAABBBCCBACCBAACCCCCCCBAABBCBCACACCBABBCAABBBCCCBBBABBCBAABCAACCCCBACCCACBACBBAABCBBCCCABCCCACBBABBCBACBBBCACCCBACBBABCCABAABCABBAACCABCACCAACBBCBBABBACACAAAAABBBCBCAACBABBBCCCBBCCACCCCBCBCAABBABCBCCBBAACCCBAABACCBCBCAAACBBABCBCAACBACAACCCAABCAACCABABCBAACABBCAAACCAAABBBACAAAACACAAAAAAAAACBCCBACBABCABACBBBAABAABCBBCBBBABCCABABABACBABBCAAAAABBBCCCBABABAACACBBCAABABCCACBCBCBABCCBBBBABAABBCCCCBACCCBBCACCABBAACACCCCCABABBCBCCABACBACCCBCACBAAACBBBACCBABCABBBCBBCCCCACBAAABCBBABABCACACCCABCAACCACBABCAAABBCBBBCBCACCBACBBCCCBBCBCBAACCCBAACBAACABACCBBCACCBCACBABACABCAAAACBCBBBBACCABBCBBCCCCCACCCAABBBBBCCAAABBCABCAACB",
            2, "xCxDDCDCCCBCCCADCCBBDDBBAAACxADBCBDCDCAAxDCBDxDDCBAABCCBCBDDCDADCBAxBCBAACBCBBAxCCADAxxAxDADCDDxBDDACBBDBxCACxxDDAAADAADBxBDCBxBxCCxACABDDxDDCDxCCCCDBDCBxBDBBDDCCACBxAxDAACCDDxACDAxDDACCAxDBCACBBACAABCADAABCxBBCCxAADDADBDACDDCDCCBxADADDBACADCADBCCDCxxDBAACDDDDBDxDCDDDADCxAADxAAxBDABBCCxxxDBxDADCCACCCADDDxDDBADADBABACxBxBDBAABABxCACDACxxDADDDCCDBBAxCCCBADAxBADAACBCACCADADDBDCBDCDCACABDADBxABCCBABDCCBABBBDBAACDADxAxDBAABBDCBDDCxDDBBBDBADABDBxxBxCCACxCACBDBxxBBxBDBAAADBABCBBxDxAAABCCxDxBDxxDCDABBDCDACxBABxxDDxxxAAAACBADCCxDDBBBBCADCCCDBxBBABDBACxADCACBDADCDBABCCACCBAxxACCDBBABCBACxADAADBCAxCDAADDABDCxACDxCDADAADBBxCAAxABBCDCAxDCAxDCCACDCBDxBBBCAADCCCDBAxADBCDCCDDACBCCBCCBAAxDDACCBxAxxDDAxADBDxAxxBCADACBDCAxBABBBBAxxDABCxBBxDxBxACCCDCxBABDCBCCACBCBCCDBABACBACCCCAAxCBDBBxCDBABCABBxCxADABxDCxBxBDDBDxCCDAADBBBDCxDxDDCBCBBBxDBxBCCCACBDABCxDDACAxAxCDAADBxCBDADBDCxABBDABxAAxCCBABBDAxCBDBxCxBADABAABxDACxBCCDCxBxCBxADAACCBACxCAABBCDDAACBxACACACACBBDCBxBBBxDBDABDDDCxBxAABCCDxACxAAxBCDABBCDBCBCBxABCBCBDCAABCxCBCDACACDAxDDDBDBBABBDBxBCBxCDDDADCBADxDxDDAAADABxBAADCAACxADDACADDBBBBBBCDxCAADCCBxACAAAxBxCCAxBCBAAACCCACDDDDCBBCBBBAAADCxDAADCBAAABCDxCABCCCxACDABBDDBDBCCABDBCxCCxDDDCCxCAADxxBDACDDxADBACBCACCBCBBADxCAxACCBCDCCxDBBDCBCBCDCDCDCBAxBCDBxCACCACxAACBCAAACCCBAxxACACDBCxDCBDBCACBCxxCCxCAAxCCCCxBCDxBDBCAxxBCBBDDCDCCABBBBDxBCDBxCBDxBAADDDADxAABBBxBBCxACACxACDBDxBBBCCDCDBBAAABAxBAAACBAABACxDxDDABDDDBABABxACCDBCBDCBCBDDDCxBCBCCCBBDADCABDBBDBxBxADCAABCxBABCCABBDCBCACDBBBBACDAABxCBBDBDBxDDBCDDADADBABCCCCACBBCADADBAABCCBDCADDBCDBDDBCBCCDBCCBBDBDBBCABABCDBBDBBABBBCxAACCCCCBxBDCBBBBxCBDABBBBBBDxADxDxABBAADxCBxCBBxDABBBCBDDxCBACDCCCCDxADDDDDABABxABDACBADBDDDCDCBxDxDABCBCCCDxCACDADACCDBDxDAAAADDCABBCBBBCDACABCBDACxAADDDDBAxABDDACxCCDBCCCBDxBDDAAAABAxDBBxABCBACCxBCCADCDCAAACBABAADBBCBBDDBCACBACCCACAABDDCDxCDABADxDxxBCDAADBABCCBADDDCDDCDxACCCBxDBBCBACDBACCCCBxDADxABCAxBBADCBBDxDABDBACBBBCBBxCxCABCBDAxBDxBxBABACBBDCACDCAAABBADDBDBDDABCDCAxBDCxDxBADDDDBACABDDBDDDDDABDDAxABBABDAxADDBDCCCDCDxACBD",
            3, "xDABCAxABDABDxCADACCxAxxDBACBBCDDABBBACxAxxxDCCCxDBCCCBBADCADDDBCCBBCBCxBxAADAxDDABABxDCCADCBBBCBDxBxCADxACxDADAxCxBDBCAxADABAACCBBDxDCDCDxAABxxBDBCCBABCBAACBCBBABDCxDABDCADAxxxAACBCBxBDxCCBDCACDACxADCxCBDCBBBBCxBCDDAxCDADBDABCxAACxBxAxxBABDDxxCAADxBCCBCBBAxDCBABBAxBCBCDDCAAADDxBxBDABBxDxDDBBxCDCxAxACABDCCxCxADADxAxxxABBBACBDCBDxDCCxCCxCCABCADDxCxDBxxADDAADDBCxDADBABAABCCxCxADxABBDxDBDBAxAxABDABBxDDCDxCCADxxCCACAxCDAxCBxDABAAxDBBBADxBBCCxACAACCDBxADCABDAAxDDBACxCDCBAxACAACBADBABxBCACDBCDCDCBBxDBAxxBDBDDxBDABADBCAACDxxxCBxCCBCCxBDACCDBCBxDxDxCBACxCxCCCCCAACxBBBDABBCAACBBDCDAxCAxxBCBAxAACCCxDABAACCxAACxCBxDADxAAADBBDBxDxxxDAAADDAAxBxAAxDCxCAAACBDBDxADCBBCBDAxDDBxxDxxCAADCDxDxBDCBCCxBAxxAxDDDDxCDBxxBABAxABDxBBCBxCBBADBxBBDACBCCCBAxADxCxxBACACDDDCCDDDCxDCxBCDDCABBxABxACxCDCDxCAxABAxAxDBCCAADDCxCCAADBxACBAxDABDxADAAxxBAxxCBABDACACBBABAxCBAxCADxBDAAABBxACxxCxACCxDxxABCAxBDCBCAAACDBACDDxBDADxAAADCADBxxDDABBDDCDBCxxAAAABxDxBACAAAxBBBxADBAxACCBDBABCBAxxBCACDxBxDDABCABABBCDBxBDBABCBBDDABCBDDADADxDABBCCABADCDxCBCDxABDDBADCBxxCBADBCAAACCBDCCxBDDBxCxDCAxACDDBDCCDAABBBCCBDAxxADAABBACCAAAxAAxBAxBCAxDDAABBADCBDBxAxxCDCxDxCDBBADDADBADCDxABACBBAADAACDDDADxACDACDBBDACCDCCBCADBACDCABCBBDADDDABADBACBxCDxxBACCCBDADDxxBDDDAxDAADDAABADDAxxBDDCxCBxxxBAxBDDDBAxCABADBCABAADDCAAADBCCDADxCDBCAAxCAxAxDAxCABDBAxAxDCACBBxxCCxABDAAxBCxCCxBxABBDAxCxCxxBAABDxACxDCACCxADxDDCAxACxDABCCxxAAxCxBBCxDxBxxDBxxDxADDBxBCxCBCCDBAxAxxBAADxAxBCBAxDABBxAxBABxDDBADxDxxCxDADxBCBDDCBBDCBAADBCAAADxADCCxBxDBBCAABDDADBxBDACCCBABDxBDADDCxAxDCDDBxDBBxDADCBACBCDDABxACBxAAxBDBDDABBCBxBxBBBxDBxADCCxCABDAACxxDBADADDxBADxDBxDCAADACxBBDBDBxDACBDDAABDAxBDBCAADACBBADDCCDAxxABAADCxCCDDxDxDDAAADCBxDBAxxCxDABDCDCDBxDxxxCBCxCxCBCxxxDCDADACBBxCDCBBxxCxACBDADBACBxBAxCBAADCADBCDDBBBBADCxxCBBADDAxDxDBCxDBxxCBABDxABxDADxBAxADCxDABxCxBCCDBAxAACDDDxDCABxAADxBDxCDBxBAADDBxDAxACCAADBCDCBBxCDDxDCCBxACxABxxDCDBAxADDxxCBDCDCCxBxxBABAxABDACBBCDCDDxBADACAxDBxBxDDBBDxxCDBDCDxDBAADBDCxDxBBxCBAxDBDABCDDCBBxADBxBAABCBDAAxxADDAxAACxAxDDACBCDDxCBxCDBBCBABCBCBDBBCACAACxxDxxDDxCBDCBCADDxxxCxDBBCCBxABDBBBBxADBDxDxDCCAxABBACCBDDxDDBBBDCBDABBCABCDACBDxBADxBxxBBCDCxCACCDABDADDBBCDACxxACBADCxxCxBxCDAxDDAACDCxxDxBBxCxxBADDDAxAxADxxxCxCDxDBBAxCxBACADADAxBAAAxDDCADDxADCCDBCACxAACxxDCCAxADBDBxxBAxDCxAACDDxAxDDCDACBBCxDxAAxCCxDDCDACAxCCCxACxDCxBBCBBCBBDBACCxBCCCAABCxACxCxBDDDAAxDCBAABCACBBCxAxACxDxDDBCADxDACBDxDxABABxCCCxxBAAACBxACCADDxxxBDDxCDABABAADxxCxxCABDAxDBxxBAABCxAAADDxBxxBDBBCBCCBBABBBBCAACDBDBBBDCDDADxxxCxACAADBDAADAADDDxDBBDxBABxBADCBxxxxCCCBBCBCxxDACDBACAxDCxBBCxAADxBDxxBDCAxxDAACxAxxBBxADDxBAxBDDAxAADxACxABCCDBBCABABAxAxDxxDBACABCAxBDxADDACCAxxACCAACCxBBACCxxBADDADABDxxCxCDDBxBBDACAABBxBABDCDxxAxxCBCAxCxBxACBCACDBDDxBCCACxADxBDADCDDDxxBCDxDCCxCBCCDCADxDAxADxCCDDxxCBxCCBAACCxxxBxBBBDBDADDxDCDBCxxCxBAxxACCBCxDxBCDBBBxABxADCDABDACBCADxCxCxBBxBxBBBABBxBDDCACDBxADADCBBACxDBDCCDADxxCADBCBxABBxDCCCxDABBDBCxDACCBCBCDAAAxxADDDxCBDBDDxDxAADACxADCBBBBDABCAAAADDACxAxDBDxCADACDAxBCDCDCDCCBDCCDABAxACAxBCDBDDACDDBCACBBBCBCDDBACDBCxCDABDBDBCBDAxxxBxACABDBCBxxDxABxCAAxDDDACBDxDADABDCDDCDBBBxABAADDDxCDACxBDxADBxBCBAAxAADxxxDBxDBxxBAABxCCxDDxxDDDxxxxABBCBxCDAxBBDxBABCDDDCBxCBCCxAxxABxAxADxBDBBAxAxCAxAAACxxBAxBxDxxxDACDDAADACDBxDxCDADBBBCBBABBxxxDDABCADCCDBCAxABDACCDACADDDxxACADDBDDDCBCAxADBxCBxDABCACBAAxBDDDAxACADxACBxxAxDCCDBCAAxDADDDDDxxxADCxDxxCBxDABCCCxDDAADxxBAxBBDBDCABBBCACBCABxDAxBDxDDBCDBABxxDADxCDCCABBCBBBxDCAxACCAACACDCxDCBAABCxCCxCCBCCxCxBCDxDCDCDAxCBBDDBDCBACADDxCBCDCBDxBCxxBCxAAABCACxBAABxDBDAAxAxCABCCCAACAxCxBAxCDxABxxCBBxCAABCCABDxCBCBxADCxBAACACDDADBCDBxDDABDxDCxBAxCCBDAACxAAxxABCxDDBAAxxAABACCDBxAAACCxCABBDCDDBCCDBAADxCxDAAxCCxADxBCBABDBBABBABDCBxDBADxBxAxxxxDABDCAxAAxxABCCxBAxDxCBCDAxxCBCAAxCDAxACxxBACDDDxxAxACBAxxACDDCBBAADBxxxxDBABBBxxDCxBCDBBxxBCABCBAADBBDCADDxDABDCDBCDDBDxxBCCxCAxBCxxBBACxADAADCDBDCABDAABBBCDxADBBDDAxCxCCDCBDCCxCBADBBxBCBDxCDBADADCBxCCBBDCDABADCxAxxCxxABBBxDBxBCCABCBDxCCCBBDCBDxCxxCDBABxxAACxAAxAAAAxAADBCAABBBxDCCxxAxAACxAxCACAAABBADxCxAADABCxAxxDBDDCBDxBCxDAAACCxCxxxCBBDxxxDBCBDBACDBxBBBADBxACDABDABBDBCADBxAACxBABDDADBADDDxCBBBxCDxxCCDBxxAxCAAABCxBCDCBAAADDCCxBADCDDABAxABBCABDDBxxBBxCCxxxBBxAxxCBCACCBBCBBDxCBxABxxDADACBxBBBxDADCCDxxCCAACBCxDBBDAADDCxxBxADCxDACCxDBxCCxBxDCDBCDADCDDAAxDDDBxAAxADACCDBDCBDCDAAxCxBDDCADxADAAABDxBACBxBxCxBxBBBBCCxxCDBAxxxDCxxABBCxxBCxDCxDBCDDDCCCxCCBDDDABCxDCADACCxDxDBDCACBCxBCACxAxBBCDAxCADABxDDABBDCDBxxBBAADAxDBDAxDBBxCBDxACxDAxBAxADCCBxDDDDBDCCxBADCADADDABDAxCxCxxDxBxxCCBACBAxBBxADCCCAADDBBDDDxBxCBDBDCDDDBDCxAACDDxDCCBxCADCDDBxDCCxBCBACDAABAxxACCxCABxBBBAxACACBBADDCxBAABDCxDACxxBDBDxCBABBxCCDCxBxADxBDADADxABCxCxABCACxABxxBDDDxCAABDABACBBBADxBDACxDCBADxCCDDxDAxDCDCBDBADCxABADxAxACxCDDAxCCDDBBCDBCBxDADCDABDxCADABDBBCAACDCACxAxAADDDDBxBDADxDACCxCAACABBDAxxBCxBACAxBxBCAxBACCDxCCxAxDDxCxACBBxADDDxCCAAACBBBADABxBDABxCAAAxAAxDBABCADDAxDxAxACxAxACDAxxBBCBBBBDBCACCABxxxADBxAxxxCBCCBDBDAAADCDCxABxDDABCBxAxBDBBxBBAxACABxDDBDxCCCACDDCDDCxDBCBxBDADCBADBBxBxACAxAxDxDDDxDACxABxBCxCBCxBxCDBxACADxDADCCCxDBDCDBBxBCxBABBACDBCABABDCACBCBBDCxDBABCADCCABAxBADAxBxCxBBCxAAxDxxDxCxxCBDCxDxACCBBxDBDCBDxxDBCDABDBACxCDACxxxxCxDCDAAxABCAAADAAxCCDAxCxxCDAABDDCAAxCAxAxxCDxDxxAAADDBxCDAABBDCxAACBDBCxBADADADBDxxxABDxCBAAACBxxDxBBxxCCxCCCCACADCDADCDBBxBxDxAxDxDDBADACAxDBDADxxCABDBxCxxDxxDAxAAxAxABxCBBBxDCBDBCDAADBDCABxCDABDCxDCCDBxxBAAxCCDxxBxBxBAADBxxADABADBACDACxABDxxCBCxAADCCCDBCBBDxBDCDDBCDDAxBxBBDBxxDDABCACxADDAxAxBxACBCxCCBAxCCxBDBxxCCxCBDAxABBBDCADDxACBDCABDDBDxBBCACxxBBxBBDxABxBACDAxDCBCADADADABxAABBABCABxACADDxxxBDAACDDxCADCABxBABAxCADCDxDBAxAADCABDDDBxBDBBAxDCABCCDxDCDxBCABxDCDxDxBDBxxCABDxCBADBDAxBxBDCAxDACxDDDxCCBADACCDxAAACBCDDAxxAxxDBDxDCCCxBDxBAAADxBDxAAxBDBCCBBxBCBAxxCxDCBAAABDADADxDxBAxDBAxCCBxxCBAxABAxDBABAAADCDDDAACxDDADCDBABCxCBBBxDBDACDDAACBACBCDxABxxCBADBADxDCxBAxBBCACxADBxBCCBDDCADDxxxBCBBCBBxCBCAxxBBDxABACABACxBDCAxDxAADDxCxBxBxCxBDADCBAADxDDBCDDCCDxABABACxADCxxBDxDDBCCBCDDBCABCxCxDBADADDADADBBBDBxBBxCxDADCCBBxAxCDxCAADxxxCBACDxBxxBBxBDAAAxDCxAxxBCxCDCxCACBCDBDCCACxxBCBxBDCAAxCACDADCxxDADADxBxBCDCAACDBBAAACDxxDDxDAAAABBDACACxxCAAxCDxDCCBCxBAxDxADxABxBCDAxxAxBBBCDAAABDxCxABBCxADADxDCxCDDDDBADAADAxDBBCACDADBDCxCACADDxDxCCDBxBBAAADxACCBxCCAAABBxxAAADACBBDADxDAACxDCADCxDxCBxCDCBxCxDDCAAxxADABCDAACxxBBCxADBAxACDCBxAxAxBAAAxADCABxxCADDCCBBxCxDxAxCxxABCDxCADCxCxDAAACAADCxxBCAxDABCAxBABCDxDCBBAAxCDCBCBBCCBCBxDxDCxxCCBCADCCDBDDBDxBxDABDDBxBxCBCABBxCBABxDCAxDAAADDDCDDDDCxCCDxCDxBDCxCAxAABBADDBCDBxBABCCxAACxBDCCCCCxxCCCCDDAxxDxBAABxxxCDxCBBCxDDDDxAADCCCBADACBBxAxCADCCBBxDDABBBBBBDxBCxxBBAABDxBBCADCCDADAxAxBAAxDxDxCDABDBDDADCCCCxCBABxABxCBxCCCDBDDBAABDDBABDADxDDBBBxDxxDCABBCCABCxxBACCCCBxACBBBCxBAxBADCBCCxCDDBDAxAAABBxAACxCDDCCxCAAAxCCxDxBBCxBxxxAABBxDDADxBADBACCCBAAAxAAxABDxxCDBxBBBCBxDxAxCBABCCCAABBBADADxDxBDAAAxCACCCBCBxxxAAAxABxACBxADCCDDBxxACDCDACDDxDDBxADAxBCxxxADBAxCBDDAxABADDBACDDDDDCxBxxCCxDCDxDDxxCBBDABAAxBxAACCDxAABxCxDADCxCACADAxDADADBBxxCBDDAxDAxCCDCCDCCBDACxBCBxBCxCACBDBDCCDxCACBCxBAxBxBBCCxDDAAACxCACCBDCxDxCADBAxxCxADDxCACAxDxBxBAABACCCCxADDBCBCDxBDACCBAxAABxCxxBBxCBDxCCCBBAxDABDxCxDCxBBCCxAACBCBABAxAABxDxAxCAxACABxxAABDCxDADDxDBDDDBAxDCxDCBxAxCCBDBCCDCxCACBxACxxBCCDDxBACCDDADxxxCBCxCxxBCDADABBxBBCDACDCADDBBCDCxBAADxDAxCCCDxDBxCDxAxCDxxACxDDBCxAAxBDADCDBBCCCxCCBDDxBCBAxBxCBDCCCxAxABBCxCDxBACCxDxAxDBDDxAxBCCxACxCDABDBxAxDABCDBDCBBBxAxCBACxDACBBAxAxxABAxDDxBDDBAxCCDBxxAABCxCBBCDxDDAxBxCBCxDDBxDxCDDCxDDAACxxBABBxABDCADACDCBDDDBxDBCDDxADAxCBAACDCBxBBxxDCAxCBDxAxBDxBBDDCCABCxxAxDCCABxADBCCCDDxDCCDCBDDDACBxCDxACCAxCAAAAAABBCDCDDACCAADCCBACxxxAAABxDDDxDCDDDDDAxDDDDDxxBDDAxCxxDADBAAAxAxCCCCCBBAxCDCCBDCCAABBxDDBCBDxCDDBADBDxDDAxBBCxBBBBBCBBxCBDDAxDCBCxxxxDDxAABADBxDxDBACCDBACADxxxxBCCAxDxCAxxBDDAxAxxBDACBCBCDCxAAxAAABBCBDDDBAADxCxABDBAxxBCABDBCCxBBxCxACABBCxCACCDCADACABxBCABCAAxACABxABCBxDBADxxBCDACBDBDBAxDCDBxxxBxABDAABACAxBDCCAABCBBAABBCDCDCBDCAxAADCxDBDBCDBxDAABDBCCBCxxxBDDBCBAACxBCBBCBBBAxABBxABBxxAAxBBxDDxCCAADDAACBBBDBAADxDxxDDDxCxABCxBCCDBDADADxxDxACBCCBCCDDxxCxAxBDDBACDCBxxxxxDBCCADxDBCDBDCAABCDCCCxCDxAAACDABxBxAACAxBCACCxBDAxDCBDxCBBxACDAxBCCxCABCABxxDCxACDDACADAxCCxCDCxAABCDCCDxCADCxDABxxxAAxxDCCxBBACxCCDDAADDxxCACAAxxCBADxCDACBABCBDDDABCxDDCDDDBBCCBDCAABBCxABDBDBDBCBBADDAADDBBBCDABDBDxCAADACDBCxCxxBADBCxADBCCCBxAADDCDADCBDCDxADCCAAxDxDABDACAAxCBDCABABxxAxBDBACAxADBBBCCBDDCABAxCAAxCAAABBDxDxCDxBBBCBAxBAxBAxDxCAxCxBCDxCxxACABCxACADCADxAADxBCDxBCCADCCDACBCxDxBCACAADDxAxDAAxxBxCBBxAADBBCAAACAxCBDDBABDDxDADCAxCDxCBABCADDDAxCDCACBDBBCBDCAxCxCBADBxCAxDCDxBBDCACADxxCBDDADCDDBDDBBDxBBDCCABBAxCCxABxDxxxBBBxCCAxCAxACDxACAABADxCDBCxDDDBxABBDDBBxxCCDDCBDCxCxxABxDxBADCxBDACxDBDxDDACDABDxxxBADDBxxCCCCBCBxxDDBAxxBxxCDCxDDBAxABBBDBDCBBBxxDxACDAxCACACxAxDAAxCACAxBxDDCxBDDCxBCACxBCABCACxxCxBADxDxACAxDxCDABBDDCACDxDDDABBDBCDDACDBAADCAABACBCDCxDxxxACCBAxDCABCCBCCDCDCDDBxDBBBxAxDBBABCACDCDDABxBxAACDxxDBACxCDCBDxBxCBxBDBCCxxACADDAxCAABBBCCCDDDDxAAxACCACDCAABCAADCxCCBBAxxCxDABCCACxBAxxBxABxCxDAACDABxCBCxDCAxADABBDACxDABxxCDxxDBDBCCAABCCCADBDCADCxCxDCBxBxBCCCxCDCDACAADAxBADBCABCCADxDBCDDDABCBxCBCACADxxBCxBABDCxCxxCCABDCxDCAxBxCAxBxABBDCADDAAAxBDDxxxDxDBBBxDCDxDABBxCCCxBxCCACCBAAxxDDxCBxBBADxB"

        );
        for (int i = 1; i <=3; ++i) {
            System.out.println("Part " + i + ": " + computePotions(input.get(i), i));
        }
    }

    private int computePotions(String input, int groupSize) {
        int result = 0;
        for (int i = 0; i < input.length(); i += groupSize) {
            String group = input.substring(i, i + groupSize);
            result += group.chars().map(this::toPotions).sum();
            result += extraPotions(group);
        }
        return result;
    }

    private int extraPotions(String group) {
        int nCreatures = group.chars().map(c -> c == 'x' ? 0 : 1).sum();
        return (nCreatures - 1) * nCreatures;
    }

    private int toPotions(int creature) {
        return switch (creature) {
            case 'A', 'x' -> 0;
            case 'B' -> 1;
            case 'C' -> 3;
            case 'D' -> 5;
            default -> throw new IllegalArgumentException("Unknown creature: " + (char) creature);
        };
    }
}
